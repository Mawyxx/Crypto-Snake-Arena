<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="color-scheme" content="light dark" />
    <title>Crypto Snake Arena</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <script>
      window.__loadErr=function(m){var r=document.getElementById('root');if(r){r.innerHTML='<div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:#000;color:#f87171;font-family:sans-serif;padding:20px;text-align:center;font-size:12px"><pre style="white-space:pre-wrap;word-break:break-all">'+String(m).replace(/</g,'&lt;')+'</pre><button onclick="location.reload()" style="padding:12px 24px;background:#06b6d4;color:#fff;border:none;border-radius:8px;cursor:pointer;margin-top:16px">Обновить</button></div>';}};
      window.onerror=function(m,u,l,c,e){window.__loadErr((e?e.message+'\n'+e.stack:m)+' ['+u+':'+l+']');return true;};
      window.onunhandledrejection=function(e){window.__loadErr(String(e.reason));};
    </script>
    <!-- Официальный скрипт Telegram — ОБЯЗАТЕЛЬНО первым (core.telegram.org/bots/webapps) -->
    <script src="https://telegram.org/js/telegram-web-app.js?59"></script>
    <script>
      (function(){var t=window.Telegram&&window.Telegram.WebApp;if(t){document.documentElement.setAttribute('data-telegram','1');document.body.setAttribute('data-telegram','1');t.ready();}})();
    </script>
  </head>
  <body>
    <div id="root">
      <div id="fallback" style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:#000;color:#fff;font-family:sans-serif;font-size:24px;padding:20px;text-align:center">
        <span style="margin-bottom:20px">Loading...</span>
        <button id="play-btn" style="display:none;padding:20px 40px;font-size:20px;font-weight:bold;background:linear-gradient(180deg,#06b6d4,#2563eb);color:#fff;border:none;border-radius:12px;cursor:pointer" onclick="window.location.reload()">ИГРАТЬ</button>
      </div>
    </div>
    <script>
      setTimeout(function(){
        var f=document.getElementById('fallback');
        var b=document.getElementById('play-btn');
        if(f&&b){f.querySelector('span').textContent='Ошибка загрузки. Нажмите ИГРАТЬ для перезагрузки.';b.style.display='block';}
      },5000);
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
